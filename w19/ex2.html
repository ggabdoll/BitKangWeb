<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EX2</title>
</head>
<body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        crossorigin="anonymous"></script>

<script>
    $(document).ready(function(){


        const menus = [
            {name:'콜드브루', price:4500, picture:'img/c02.jpg'},
            {name:'토피넛라떼', price:5500, picture:'img/c03.jpg'},
            {name:'아아', price:4000, picture:'img/c05.jpg'},
            {name:'자몽에이드', price:5500, picture:'img/j01.jpg'},
            {name:'망고주스', price:2500, picture:'img/j02.jpg'},
            {name:'포도주스', price:1000, picture:'img/j03.jpg'},
            {name:'키위주스', price:5500, picture:'img/j04.jpg'},
            {name:'갈배', price:1000, picture:'img/j05.jpg'},
            {name:'딸기케이크', price:4000, picture:'img/k01.jpg'},
            {name:'더블치즈케이크', price:4000, picture:'img/k03.jpg'},
            {name:'한라봉케이크', price:5500, picture:'img/k05.jpg'},
        ]
        const result = $('#result')
        //=> 요런식으로 많이 써야하는 제이쿼리는 따로 변수로 빼둔다.

        let count = 0

        //jquery의 이베트 처리
        // 1. 동적인 요소에도 이벤트를 걸 수 있다.
        // 2. e 는 순수한 이벤트 객체가 아니라 쌓여있다. -> originalEvent
        // 3. e.target으로 꺼낸 객체는 DOM객체 (jquery객체 아님)

        $("#btn").on("click", e =>{
            //alert("click")
            $("#result").append(`<li>AAA<button class="bbbb" data-idx="${count++}">dddd</button></li>`)
            //=> 제이쿼리를 한번 더 불어와야 해서 성능이 떨어짐. 제이쿼리는 필요할때만 사용해라
        })

        result.on("click","li", function (e) {
            const target = e.target
            console.log(target)
            $(this).remove()
        })

        $(".bbbb").on("click", e => {
        const target = e.target.attr('data-idx')
            console.log(target)

        })


    })
</script>

<button id="btn">CLICK</button>

<ul id="result">

</ul>
</body>
</html>